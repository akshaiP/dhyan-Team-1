<!-- Search Section -->
<section class="search-section">
  <h1 style="font-family: 'Cursive', sans-serif; font-size: 27px; font-weight: bold; color: #0c0000; font-style: italic;">
    Your Dream Job Awaits - Apply Now!</h1>
  <input type="text" class="search-bar" [(ngModel)]="searchText" placeholder="üîç Search for jobs...">
</section>

<div class="main-content">
  <div class="row">
   <!-- Filter Sidebar -->
  <aside class="filter-sidebar">
    <h3>Filter Jobs</h3>
    <div class="filter-group">
      <label for="location">Location</label>
      <select id="location" [(ngModel)]="selectedLocation">
        <option value="all">All Locations</option>
        <option value="Bangalore">Bangalore</option>
        <option value="Chennai">Chennai</option>
        <option value="Coimbatore">Coimbatore</option>
        <option value="Hyderabad">Hyderabad</option>
        <option value="Pune">Pune</option>
      </select>
    </div>
    <div class="filter-group">
      <label for="experience">Experience Level</label>
      <select id="experience" [(ngModel)]="selectedExperience">
        <option value="all">All Levels</option>
        <option value="entry">Entry Level</option>
        <option value="mid">Mid Level</option>
        <option value="senior">Senior Level</option>
      </select>
    </div>
    <div class="filter-group">
      <label for="job-type">Job Type</label>
      <select id="job-type" [(ngModel)]="selectedJobType">
        <option value="all">All Types</option>
        <option value="full-time">Full-Time</option>
        <option value="part-time">Part-Time</option>
        <option value="contract">Contract</option>
        <option value="internship">Internship</option>
      </select>
    </div>
    <div class="filter-group">
      <label for="salary-range">Salary Range</label>
      <select id="salary-range" [(ngModel)]="selectedSalaryRange">
        <option value="all">All Ranges</option>
        <option value="1-3LPA">1-3LPA</option>
        <option value="3-5LPA">3-5LPA</option>
        <option value="5-7LPA">5-7LPA</option>
        <option value="7LPA+">7LPA+</option>
      </select>
    </div>
  </aside>

    <!-- Job Listings -->
    <section class="job-listings">
      <h2>Available Jobs</h2>
      <div class="job-grid">
        <div *ngFor="let job of jobList | filter: selectedLocation : selectedExperience : selectedJobType : selectedSalaryRange | search:searchText:['jobTitle', 'companyName']" class="job-card">
  

          <div class="company-info">
            <img [src]="job.companyLogoUrl" [alt]="job.companyName + ' Logo'" class="company-logo">
            <div class="company-details">
              <h4>{{ job.companyName }}</h4>
              <p>{{ job.jobTitle }}</p>
            </div>
          </div>
          <p><strong>Location:</strong> {{ job.location }}</p>
          <p><strong>Employment Type:</strong> {{ job.employmentType }}</p>
          <p><strong>Salary Range:</strong> {{ job.salaryRange }} {{ job.currency }}</p>
          <p><strong>Experience Level:</strong> {{ job.experienceLevel }}</p>
          <p><strong>Last Date to Apply:</strong> {{ job.lastDateToApply }}</p>
          <p><strong>Description:</strong> {{ job.jobDescription | slice: 0 : 50 }}...</p>


          <div class="job-card-actions">
            <a href="#" class="view-details" (click)="openJobDetailsModal(job, $event)">View Details</a>
            <div class="button-container">
              <button class="btn-primary" [disabled]="job.isApplied" (click)="applyForJob(job.id)">
                {{ job.isApplied ? 'Applied' : 'Apply' }}
              </button>
              <button *ngIf="job.isApplied && job.applicationStatus === 'PENDING'" class="btn-secondary" (click)="unapplyForJob(job.id)">
                Unapply
              </button>
              <button class="btn-secondary" (click)="toggleFavorite(job.id)">
                {{ job.isFavorite ? 'Remove from Favorites' : '‚≠ê Mark as Favorite' }}
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>

<!-- Job Details Modal -->
<div *ngIf="showJobDetailsModal" class="modal">
  <div class="modal-content">
    <span class="close-button" (click)="closeJobDetailsModal()">&times;</span>
    <h2>{{ selectedJob?.jobTitle }}</h2>
    <p><strong>Company Name:</strong> {{ selectedJob?.companyName }}</p>
    <p><strong>Location:</strong> {{ selectedJob?.location }}</p>
    <p><strong>Employment Type:</strong> {{ selectedJob?.employmentType }}</p>
    <p><strong>Description:</strong> {{ selectedJob?.jobDescription }}</p>
    <p><strong>Requirements:</strong> {{ selectedJob?.requirements }}</p>
    <p><strong>Category:</strong> {{ selectedJob?.jobCategory }}</p>
    <p><strong>Experience Level:</strong> {{ selectedJob?.experienceLevel }}</p>
    <p><strong>Education Requirement:</strong> {{ selectedJob?.educationRequirement }}</p>
    <p><strong>Skills:</strong> {{ selectedJob?.skills }}</p>
    <p><strong>Last Date to Apply:</strong> {{ selectedJob?.lastDateToApply }}</p>
    <p><strong>Salary Range:</strong> {{ selectedJob?.salaryRange }} {{ selectedJob?.currency }}</p>
    <p><strong>Contact Email:</strong> {{ selectedJob?.contactEmail }}</p>
    <p *ngIf="selectedJob?.contactPhone"><strong>Contact Phone:</strong> {{ selectedJob?.contactPhone }}</p>
    <p><strong>Benefits:</strong> {{ selectedJob?.benefits }}</p>
    <p><strong>Application Process:</strong> {{ selectedJob?.applicationProcess }}</p>
    <p><strong>Company Website:</strong> <a [href]="selectedJob?.companyWebsite" target="_blank">{{ selectedJob?.companyWebsite }}</a></p>
    <p><strong>Job Location Type:</strong> {{ selectedJob?.jobLocationType }}</p>
  </div>
</div>