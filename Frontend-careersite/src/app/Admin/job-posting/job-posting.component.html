<section class="main-content">
  <button class="create-job-button" (click)="toggleModal()">Create New Job Posting</button>

<!-- Modal for Job Form -->
<div class="modal" [ngClass]="{'show': showModal}">
  <div class="modal-content">
    <span class="close-button" (click)="toggleModal()">&times;</span>
    <form [formGroup]="jobForm" (ngSubmit)="saveJobPosting()">
      <!-- Form Fields -->
      <div class="input-group">
        <label for="companyName">Company Name</label>
        <input type="text" id="companyName" formControlName="companyName" required>
      </div>
      <div class="input-group">
        <label for="companyLogoUrl">Company Logo URL</label>
        <input type="text" id="companyLogoUrl" formControlName="companyLogoUrl">
      </div>
      <div class="input-group">
        <label for="location">Location</label>
        <input type="text" id="location" formControlName="location" required>
      </div>
      <div class="input-group">
        <label for="jobTitle">Job Title</label>
        <input type="text" id="jobTitle" formControlName="jobTitle" required>
      </div>
      <div class="input-group">
        <label for="jobDescription">Job Description</label>
        <textarea id="jobDescription" formControlName="jobDescription" required></textarea>
      </div>
      <div class="input-group">
        <label for="requirements">Requirements</label>
        <textarea id="requirements" formControlName="requirements" required></textarea>
      </div>
      <div class="input-group">
        <label for="lastDateToApply">Last Date to Apply</label>
        <input type="date" id="lastDateToApply" formControlName="lastDateToApply" required>
      </div>
      <div class="input-group">
        <label for="status">Status</label>
        <select id="status" formControlName="status" required>
          <option value="ACTIVE">Active</option>
          <option value="CLOSED">Closed</option>
          <option value="DRAFT">Draft</option>
        </select>
      </div>
      <button type="submit" class="submit-button">{{ jobForm.get('id')?.value ? 'Save Changes' : 'Submit Posting' }}</button>
    </form>
  </div>
</div>

  <!-- Job Listings -->
  <div class="job-card" *ngFor="let job of jobPostings">
    <div class="company-info">
      <img [src]="job.companyLogoUrl" alt="{{ job.companyName }} Logo" class="company-logo">
      <div class="company-details">
        <h4>{{ job.companyName }}</h4>
        <p>{{ job.jobTitle }}</p>
      </div>
    </div>
    <div class="job-details">
      <p><strong>Location:</strong> {{ job.location }}</p>
      <p><strong>Job Description:</strong> {{ job.jobDescription }}</p>
      <p><strong>Requirements:</strong> {{ job.requirements }}</p>
      <p><strong>Last Date to Apply:</strong> {{ job.lastDateToApply | date }}</p>
      <p><strong>Status:</strong> {{ job.status }}</p>
    </div>
    <div class="actions">
      <button class="edit-button" (click)="editJob(job)">Edit</button>
      <button class="remove-button" (click)="removeJob(job.id)">Remove</button>
    </div>
  </div>
</section>